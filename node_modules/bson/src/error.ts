<<<<<<< HEAD
/** @public */
=======
import { BSON_MAJOR_VERSION } from './constants';

/**
 * @public
 * @category Error
 *
 * `BSONError` objects are thrown when BSON encounters an error.
 *
 * This is the parent class for all the other errors thrown by this library.
 */
>>>>>>> 3b6f93799569f507d9882b0cdb8b7c163c88e83b
export class BSONError extends Error {
  constructor(message: string) {
    super(message);
    Object.setPrototypeOf(this, BSONError.prototype);
  }

  get name(): string {
    return 'BSONError';
  }
}

<<<<<<< HEAD
/** @public */
export class BSONTypeError extends TypeError {
  constructor(message: string) {
    super(message);
    Object.setPrototypeOf(this, BSONTypeError.prototype);
=======
  constructor(message: string, options?: { cause?: unknown }) {
    super(message, options);
>>>>>>> 3b6f93799569f507d9882b0cdb8b7c163c88e83b
  }

  get name(): string {
    return 'BSONTypeError';
  }
}

/**
 * @public
 * @category Error
 *
 * @experimental
 *
 * An error generated when BSON bytes are invalid.
 * Reports the offset the parser was able to reach before encountering the error.
 */
export class BSONOffsetError extends BSONError {
  public get name(): 'BSONOffsetError' {
    return 'BSONOffsetError';
  }

  public offset: number;

  constructor(message: string, offset: number, options?: { cause?: unknown }) {
    super(`${message}. offset: ${offset}`, options);
    this.offset = offset;
  }
}
